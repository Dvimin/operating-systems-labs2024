# Фоновый процесс (Daemon)

Этот проект представляет собой демон, написанный на языке C++ с 
использованием технологии `fork`, который выполняет периодические операции над 
файлами в указанных каталогах. Демон работает в фоновом режиме, и его поведение 
конфигурируется через файл `config.txt`. 


## Задание (вариант 18)

Пользователь задаёт конфигурационный файл, 
состоящий из произвольного числа строк вида: folder1 folder2 ext. 
Перемещать из folder1 в folder2 файлы с расширением отличным от ext. Интервал 20 (сек)

## Функциональные возможности

- Демон читает конфигурационный файл с указанием каталогов и интервала времени.
- Периодически переносит файлы из одного каталога в другой, исключая файлы с заданным расширением.
- Обрабатывает сигналы:
  - **SIGHUP** — перечитывает конфигурационный файл.
  - **SIGTERM** — завершает работу с записью сообщения в системный журнал.
- Записи в системный журнал (`syslog`) для сообщений об ошибках, старте и завершении.
- Защита от повторного запуска: при запуске проверяет PID-файл и наличие уже работающего демона.


## Конфигурационный файл

Формат файла `config.txt`:

```
folder1 folder2 ext
```

- `folder1` — каталог, из которого перемещаются файлы.
- `folder2` — каталог, в который перемещаются файлы.
- `ext` — расширение файлов, которые НЕ будут перемещаться.

Пример конфигурации:

```plaintext
/home/user/folder1 /home/user/folder2 txt 
```

## Сборка

Для сборки проекта запустите скрипт `build.sh`. Он автоматически 
компилирует проект, используя флаги `-Wall` и `-Werror`, и очищает промежуточные файлы.

```bash
./build.sh
```

## Обработка сигналов

- **SIGHUP** — перечитывание конфигурационного файла.
- **SIGTERM** — завершение работы с записью в `syslog`.

## Логи и журнал

Демон записывает логи в системный журнал (syslog) для записи информации 
о запусках, ошибках и завершении работы. Убедитесь, что у вас есть доступ 
к журналам.

## Защита от повторного запуска

Перед запуском демон проверяет наличие своего процесса в `PID`-файле и, если
процесс с этим PID уже существует, завершает его с помощью `SIGTERM`. 
После этого текущий процесс записывает свой PID.

## Требования

- **g++** или аналогичный компилятор C++.
- **CMake** (минимальная версия 3.28).

## Поддержка и лицензия

Демон создан в учебных целях. Обратная связь приветствуется!

